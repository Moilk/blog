---
layout: post
title: 操作系统 - 2.4 处理机的状态
tags:  [管态,目态]
categories: [操作系统]
author: Moilk
excerpt: "在这写上摘记..."
---
　　计算机系统中运行着大量的程序，这些程序可以分为两大类：管理程序和用户程序。管理程序负责管理和分配系统资源，为用户提供服务；而用户程序运行时，所需的资源必须向操作系统必须向操作系统基础请求，不能随意的去用系统资源。  
现代操作系统根据处理机上执行的程序类型将处理机的状态分为两类：管态和目态。  

- **管态**  
	+ 又称系统态  
	+ CPU执行操作系统程序时所处的状态  
	+ 此状态下，允许CPU使用全部资源和全部指令，其中包括一组特权指令（如涉及外设的I/O、改变处理机状态、修改存储保护指令），实现对系统资源的分配与管理，为用户提供使用外部设备的服务  
- **目态**  
	+ 又称用户态  
	+ CPU执行用户程序时所处的状态  
	+ 此状态下，禁止使用特权指令，不能直接使用系统资源与改变CPU状态，并且只能访问用户程序所在的存储空间  
- **二者如何区分**  
　　计算机状态寄存器中设立一个系统状态位。若状态位是一位，可以区分两态。现在基于x86处理器的操作系统中，多数UNIX、Linux以及Windows系统大都只用了管态和目态两个特权级别。  
![处理机的状态]({{site.baseurl}}/assets/images/OS/2-4-1.png)  
- **特权指令**  
	+ 修改程序状态字（PSW）  
	+ 设置中断屏蔽字，关中断  
	+ 读I/O设备寄存器命令，启动I/O设备  
	+ 清内存，改变用于主存保护的寄存器  
	+ 设置时钟  
	+ 停机  
	+ 任务（进程）创建和切换  
	+ 检测用户权限  